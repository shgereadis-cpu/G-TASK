{% include 'header.html' %}

<div class="container" style="margin-top: 30px;">
    <h2>
        <i class="fas fa-cogs" style="color: var(--primary-color);"></i>
        рѕЏрѕхрЅ│рІѕрЅѓрІФрІјрЅй ріарѕхрЅ░рІ│рІ░рѕГ
    </h2>

    <!-- Add New Ad Form -->
    <div style="background: var(--card-bg); padding: 25px; border-radius: 8px; margin-bottom: 30px; border-left: 4px solid var(--primary-color);">
        <h3 style="margin-top: 0; color: var(--primary-color);">
            <i class="fas fa-plus-circle"></i> ріарІ▓рѕх рѕЏрѕхрЅ│рІѕрЅѓрІФ рІФріГрѕЅ
        </h3>
        
        <form method="POST" style="display: grid; gap: 15px;">
            <div>
                <label for="title">
                    <i class="fas fa-heading"></i> рѕГрІЋрѕх:
                </label>
                <input type="text" id="title" name="title" required placeholder="рѕЏрѕхрЅ│рІѕрЅѓрІФ рѕГрІЋрѕх (рѕЮрѕ│рѕї: рІѕрѕ░ріЋ рЅхрѕЮрѕЁрѕГрЅХрЅй)" 
                       style="width: 100%; padding: 10px; border: 1px solid var(--border-light); border-radius: 4px;">
            </div>

            <div>
                <label for="embed_url">
                    <i class="fas fa-link"></i> рЅфрІ▓рІ« URL:
                </label>
                <input type="text" id="embed_url" name="embed_url" required placeholder="YouTube URL рІѕрІГрѕЮ Embed ID (рѕЮрѕ│рѕї: dQw4w9WgXcQ рІѕрІГрѕЮ https://youtu.be/dQw4w9WgXcQ)"
                       style="width: 100%; padding: 10px; border: 1px solid var(--border-light); border-radius: 4px;">
                <small style="color: var(--text-light);">­ЪњА YouTube URL рІѕрІГрѕЮ рІерЅфрІ▓рІ« ID рІГрЅйрѕІрѕЅ - рѕ▓рѕхрЅ░рѕЮ рѕФрѕ▒ рІГрЅђрІФрІерѕФрѕЇ</small>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div>
                    <label for="reward_amount">
                        <i class="fas fa-coins"></i> рѕфрІѕрѕГрІх (рЅЦрѕГ):
                    </label>
                    <input type="number" id="reward_amount" name="reward_amount" required step="0.01" min="0"
                           placeholder="0.50" style="width: 100%; padding: 10px; border: 1px solid var(--border-light); border-radius: 4px;">
                </div>

                <div>
                    <label for="view_time">
                        <i class="fas fa-clock"></i> рІерѕџрІФрѕхрЇѕрѕЇрїЇ рѕ░рІЊрЅх (рѕ░ріеріЋрІх):
                    </label>
                    <input type="number" id="view_time" name="view_time" required value="60" min="10"
                           style="width: 100%; padding: 10px; border: 1px solid var(--border-light); border-radius: 4px;">
                </div>
            </div>

            <button type="submit" class="btn primary" style="width: 100%;">
                <i class="fas fa-save"></i> рѕЏрѕхрЅ│рІѕрЅѓрІФрІЇріЋ рІФріГрѕЅ
            </button>
        </form>
    </div>

    <!-- Existing Ads List -->
    <h3 style="margin-bottom: 20px; color: var(--primary-color);">
        <i class="fas fa-list"></i> рІФрѕЅ рѕЏрѕхрЅ│рІѕрЅѓрІФрІјрЅй ({{ ads|length }})
    </h3>

    {% if ads %}
        <div style="display: grid; gap: 15px;">
            {% for ad in ads %}
            <div style="border: 1px solid var(--border-light); border-radius: 8px; padding: 20px; background: var(--card-bg); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
                <div style="flex: 1; min-width: 250px;">
                    <h4 style="margin: 0 0 10px 0; color: var(--primary-color);">
                        <i class="fas fa-film"></i> {{ ad.title }}
                    </h4>
                    <p style="margin: 5px 0; font-size: 14px;">
                        <span style="background: rgba(76, 175, 80, 0.1); padding: 4px 8px; border-radius: 4px; color: var(--success-color); font-weight: bold;">
                            рЅЦрѕГ{{ ad.reward_amount }}
                        </span>
                        <span style="margin-left: 10px; color: var(--text-light);">
                            РЈ▒ {{ ad.required_view_time }}рѕ░
                        </span>
                        <span style="margin-left: 10px; padding: 4px 8px; border-radius: 4px; {% if ad.is_active %}background: rgba(76, 175, 80, 0.15); color: var(--success-color);{% else %}background: rgba(200, 200, 200, 0.2); color: #999;{% endif %}">
                            {% if ad.is_active %}<i class="fas fa-check-circle"></i> ріЋрЅЂ{% else %}<i class="fas fa-times-circle"></i> рѕхрЅЁ{% endif %}
                        </span>
                    </p>
                    <p style="margin: 8px 0 0 0; font-size: 12px; color: var(--text-light); word-break: break-all;">
                        ­ЪћЌ {{ ad.embed_url[:50] }}{{ '...' if ad.embed_url|length > 50 else '' }}
                    </p>
                </div>

                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <form method="POST" action="/admin/toggle_ad/{{ ad.id }}" style="margin: 0;">
                        <button type="submit" class="btn" style="{% if ad.is_active %}background: #f44336; color: white;{% else %}background: var(--success-color);{% endif %}">
                            <i class="fas fa-{% if ad.is_active %}ban{% else %}check{% endif %}"></i> 
                            {% if ad.is_active %}ріарѕхріЊрЅЁ{% else %}ріЋрЅЁ{% endif %}
                        </button>
                    </form>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div style="text-align: center; padding: 40px; background: var(--card-bg); border-radius: 8px;">
            <i class="fas fa-inbox" style="font-size: 48px; color: var(--text-light); margin-bottom: 20px; display: block;"></i>
            <p style="color: var(--text-light); font-size: 16px;">
                ріарѕЂріЋ рѕЮріЋрѕЮ рѕЏрѕхрЅ│рІѕрЅѓрІФ рІерѕѕрѕЮрЇб ріерѕІрІГ рІГрїђрѕЮрѕЕ!
            </p>
        </div>
    {% endif %}
</div>

{% include 'footer.html' %}
